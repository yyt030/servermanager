{% extends "bootstrap/base.html" %}
{% set active_page = active_page|default('index') -%}

{% block title %}Server Manager - a demo{% endblock %}
{% block head %}
    {{ super() }}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin.css') }}">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
{% endblock %}
{% block navbar %}
    {% include 'include/_nav_header.html' %}
    {% include 'include/_nav_lefter.html' %}
{% endblock %}
{% block content %}
    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 container">
        <h1></h1>
        {% for message in get_flashed_messages() %}
            <div class="alert alert-warning">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                {{ message }}
            </div>
        {% endfor %}
        <div class="table-responsive">
            {% block content_header %}{% endblock %}
            {% block content_table %}{% endblock %}
            {% block content_form %}{% endblock %}
        </div>
    </div>
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/actions.js') }}" type="text/javascript"></script>
    <script language="javascript">
        var modelActions = new AdminModelActions("至少选择一条记录.", {"delete": "确定删除?"});
    </script>
    <script language="javascript">
        (function ($) {
            $('[data-role=tooltip]').tooltip({
                html: true,
                placement: 'bottom'
            });

        })(jQuery);
    </script>
    <script>
        function openTerm(ip, username, password) {
            var mapForm = document.createElement("form");
            mapForm.target = "Map";
            mapForm.method = "GET";
            mapForm.action = "http://127.0.0.1:9527";

            var ipInput = document.createElement("input");
            ipInput.value = ip

            var usernameInput = document.createElement("input");
            usernameInput.value = username

            var passwordInput = document.createElement("input");
            passwordInput.value = password


            mapForm.appendChild(ipInput, usernameInput, passwordInput);

            document.body.appendChild(mapForm);

            //map = window.open("", "Map", "resizable=yes,toolbar=no,location=no,status=no,scrollbars=no,menubar=no,width=760,height=480");
            map = window.open("", "Map");
            if (map) {
                mapForm.submit();
            } else {
                alert('You must allow popups for this map to work.');
            }
            return true;
        }
    </script>


{% endblock %}